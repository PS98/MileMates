"use strict";function initializeGoogleMap(e,t,r,o,a,n){return googleMapHolder="",googleMapHolder=t,displayCurrentLocation=o,locationCall=a,""!==e&&(autocomplete=new google.maps.places.Autocomplete(document.getElementById(e),{types:["geocode"]}),""!=r&&google.maps.event.addListener(autocomplete,"place_changed",function(){r(autocomplete)})),navigator.geolocation?navigator.geolocation.getCurrentPosition(showMap,handleError):error("Google Map is not supported"),draggable=n?n:!1,autocomplete}function showMap(e){var t=e.coords.latitude,r=e.coords.longitude;if(latlon=new google.maps.LatLng(t,r),mapOptions.center=latlon,locateCityAndArea(latlon),displayCurrentLocation&&(mapOptions.zoom=12),map=new google.maps.Map(document.getElementById(googleMapHolder),mapOptions),displayCurrentLocation){var o=new google.maps.Marker({position:latlon,map:map,title:"You are here!",draggable:draggable});infowindow.setContent("You are here!"),infowindow.open(map,o),draggable&&google.maps.event.addListener(o,"drag",function(){var e=new google.maps.LatLng(o.position.lat(),o.position.lng());locateCityAndArea(e)})}}function handleError(e){switch(e.code){case e.PERMISSION_DENIED:break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.")}getLatLng("India")}function loadMap(e,t,r){r||(r=4),latlon=new google.maps.LatLng(e,t),mapOptions.center=latlon,mapOptions.zoom=r,map=new google.maps.Map(document.getElementById(googleMapHolder),mapOptions)}function loadCurrentLocation(e){locationCall&&locationCall(e.city,e.area)}function locateCityAndArea(e){var t={latLng:e};callGeoCoderApi(t).then(function(e){var t=getCityAreaFromAddressComponent(e.result);loadCurrentLocation(t)})}function getCityAreaFromAddressComponent(e){for(var t,r,o,a,n,i,s,c,l,d,u,p,m,g=0;g<e.address_components.length;g++)for(var h=0;h<e.address_components[g].types.length;h++)if("route"==e.address_components[g].types[h]&&(t=e.address_components[g].long_name),"street_number"==e.address_components[g].types[h]&&(r=e.address_components[g].long_name),"neighborhood"==e.address_components[g].types[h]&&(o=e.address_components[g].long_name),"sublocality_level_3"==e.address_components[g].types[h]&&(a=e.address_components[g].long_name),"sublocality_level_2"==e.address_components[g].types[h]&&(n=e.address_components[g].long_name),"sublocality_level_1"==e.address_components[g].types[h]&&(s=e.address_components[g].long_name),"locality"==e.address_components[g].types[h]&&(c=e.address_components[g].long_name),"administrative_area_level_2"==e.address_components[g].types[h]&&(i=e.address_components[g].long_name),"administrative_area_level_1"==e.address_components[g].types[h]&&(d=e.address_components[g].long_name),"country"==e.address_components[g].types[h]&&(l=e.address_components[g].long_name),"postal_code"==e.address_components[g].types[h]){u=e.address_components[g].long_name;break}return t=t?t:"",r=r?r:"",o=o?o:"",a=a?a:"",n=n?n:"",c=c?c:"",p=t,m=r+" "+o+" "+a+" "+n+" "+s+" "+c,{city:i,area:s,locality:c,state:d,country:l,pinCode:u,addressLine1:p,addressLine2:m}}function getLatLng(e,t){var r={address:e};callGeoCoderApi(r).then(function(e){var r=e.result.geometry.location.lat(),o=e.result.geometry.location.lng();loadMap(r,o,t)})}function callGeoCoderApi(e){var t=new $.Deferred;return geocoder.geocode(e,function(e,r){if(r==google.maps.GeocoderStatus.OK)if(e[0]){var o={result:e[0]};t.resolve(o)}else alert("No results found"),t.reject();else t.reject()}),t.promise()}function fillInAddress(e){var t=e.getPlace();console.log(t.geometry.location.lng());for(var r in componentForm)document.getElementById(r).value="","administrative_area_level_2"!=r&&"administrative_area_level_1"!=r&&"country"!=r&&"postal_code"!=r&&(document.getElementById(r).disabled=!1),fillInAddressToTextBox(t.address_components)}function fillInAddressToTextBox(e,t){for(var r=0;r<e.length;r++){var o=e[r].types[0];if(componentForm[o]){var a=e[r][componentForm[o]];document.getElementById(o).value=a}}document.getElementById("formatted_address")&&t&&(document.getElementById("formatted_address").value=t)}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),r=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(r.getBounds())})}function setMarkers(e,t,r){e&&(map=e);var o;googleMapMarkers=[];var a=new google.maps.LatLngBounds;infowindow.close(),$.each(t,function(e,t){var n=t.latitude,i=t.longitude;o=new google.maps.LatLng(n,i);var s=new google.maps.Marker({map:map,position:o,animation:google.maps.Animation.DROP});0===e&&map.setCenter(s.getPosition());var c="<div><strong>"+t.name+"</strong><br>"+t.address.line1+","+t.address.line2+"<br>"+t.phoneNo+"</div>";a.extend(s.position),google.maps.event.addListener(s,"click",function(e,t,r,o,a){return function(){t.setContent(a),t.open(map,e),r(o)}}(s,infowindow,r,t,c)),t.activeCentre&&(infowindow.open(map,s),infowindow.setContent(c)),googleMapMarkers.push(s)})}function myClick(e,t){var r;$.each(t,function(t,o){o.$$hashKey==e&&(r=t)}),google.maps.event.trigger(googleMapMarkers[r],"click")}function removeMarker(){for(var e=0;e<googleMapMarkers.length;e++)googleMapMarkers[e].setMap(null);googleMapMarkers=[]}function scrollBackToTop(){var e=300;$(window).scroll(function(){$(window).scrollTop()>e?$("a.back-to-top").fadeIn("slow"):$("a.back-to-top").fadeOut("slow")})}function makeSyickyHeader(){$(document).ready(function(){var e=($(window).height(),$(window).width()),t=767,r=640,o=$("#page-preloader"),a=o.find(".spinner-loader");if(o.show(),a.fadeOut(),o.delay(50).fadeOut("slow"),e>t){var n=$(".layout-theme").data("header"),i=$(".layout-theme").data("header-top");n&&n.length&&$(window).on("scroll",function(){var e=$(window).scrollTop(),t=$(".header");e>i?($(".header").addClass("animated"),$("header").addClass("animation-done"),$(".header").addClass("bounce"),t.addClass("sticky")):($(".header").removeClass("bounce"),$(".header").removeClass("animated"),$(".header").removeClass("animation-done"),t.removeClass("sticky"))})}r>e&&$("body").removeClass("animated-css"),$(".animated-css .animated:not(.animation-done)").waypoint(function(){var e=$(this).data("animation");$(this).addClass("animation-done").addClass(e)},{triggerOnce:!0,offset:"90%"}),$(".dropdown").hover(function(){$(".dropdown-menu",this).stop(!0,!0).slideDown("fast"),$(this).toggleClass("open")},function(){$(".dropdown-menu",this).stop(!0,!0).slideUp("fast"),$(this).toggleClass("open")}),$(".yamm .navbar-nav>li").hover(function(){$(".dropdown-menu",this).fadeIn("fast")},function(){$(".dropdown-menu",this).fadeOut("fast")}),window.prettyPrint&&prettyPrint(),$(document).on("click",".yamm .dropdown-menu",function(e){e.stopPropagation()}),$(document).on("click",".signup-tab",function(e){e.preventDefault(),$("#signup-taba").tab("show")}),$(document).on("click",".signin-tab",function(e){e.preventDefault(),$("#signin-taba").tab("show")}),$(document).on("click",".forgetpass-tab",function(e){e.preventDefault(),$("#forgetpass-taba").tab("show")})})}var indexApp=angular.module("index",["ngStorage"]),app=angular.module("psApp",["index","ui.router","ngStorage","ngCookies"]);app.directive("script",function(){return{restrict:"E",scope:!1,link:function(e,t,r){if("text/javascript-lazy"==r.type){var o=t.text(),a=new Function(o);a()}}}}),app.controller("psController",["$rootScope",function(e){e.$on("$routeChangeStart",function(e,t,r,o){var a=$("#page-preloader"),n=a.find(".spinner-loader");a.show(),n.fadeOut(),a.delay(50).fadeOut("slow"),a.hide()})}]),app.service("LoadingInterceptor",["$q","$rootScope","$log",function(e,t,r){function o(){return n>i}function a(){t.loading=o()}var n=0,i=0;return{request:function(e){return n++,a(),e},requestError:function(t){return i++,a(),r.error("Request error:",t),e.reject(t)},response:function(e){return i++,a(),e},responseError:function(t){return i++,a(),r.error("Response error:",t),e.reject(t)}}}]),angular.module("psApp").config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,r){e(t,r),alert(t.message)}}])}]),angular.module("psApp").config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(e,t,r,o){o.defaults.cache=!1,o.defaults.headers.get||(o.defaults.headers.get={}),o.interceptors.push("LoadingInterceptor"),o.defaults.headers.get["Cache-Control"]="no-cache",o.defaults.headers.get.Pragma="no-cache",o.defaults.headers.get["If-Modified-Since"]="0",o.defaults.xsrfCookieName="XSRF-TOKEN",o.defaults.xsrfHeaderName="X-XSRF-TOKEN";var a=[{state:"home",config:{url:"/",controller:"indexController",template:"<ps-index></ps-index>"}},{state:"Contact",config:{url:"/Contact",template:"<ps-contact-us></ps-contact-us>"}},{state:"About",config:{url:"/About",template:"<ps-about-us></ps-about-us>"}},{state:"Pricing",config:{url:"/Pricing",template:"<ps-pricing></ps-pricing>"}},{state:"Dashboard",config:{url:"/Dashboard",requireLogin:!0,template:"<ps-dashboard></ps-dashboard>"}},{state:"Terms",config:{url:"/Terms",template:"<ps-terms></ps-terms>"}},{state:"PrivacyPolicy",config:{url:"/PrivacyPolicy",template:"<ps-privacy-policy></ps-privacy-policy>"}},{state:"/OrderProcessingTerms",config:{url:"/OrderProcessingTerms",template:"<ps-order-processing></ps-order-processing>"}},{state:"service",config:{url:"/Service",template:"<car-service></car-service>"}},{state:"service.car",config:{url:"/",template:"<select-car></select-car>"}},{state:"service.centre",config:{url:"/",requireLogin:!0,template:"<select-centre></select-centre>"}},{state:"service.appointment",config:{url:"/",requireLogin:!0,template:"<book-appointment></book-appointment>"}},{state:"service.address",config:{url:"/",requireLogin:!0,template:"<select-address></select-address>"}},{state:"orderSuccess",config:{url:"/Success",controller:"selectAddressController",template:"<order-summary></order-summary>"}},{state:"socialCallback",config:{url:"/Auth/Success",template:"<div id='page-preloader'><img class='spinner' src='../assets/img/cool-loading-animated.gif' alt='MileMates Loader'></div>",controller:"loginDetailsController"}},{state:"admin",config:{url:"/Admin",template:"<admin></admin>",controller:"loginDetailsController"}}];a.forEach(function(t){e.state(t.state,t.config)}),t.otherwise("/"),r.html5Mode(!0)}]).run(["$rootScope","$state","psLoginService",function(e,t,r){e.$on("$stateChangeStart",function(e,o,a,n,i){o.requireLogin&&!r.isAuthenticated()&&("service.centre"===o.name?$("#loginModal").modal("toggle"):t.go("home"),e.preventDefault())})}]),angular.module("psApp").directive("carServiceCategory",function(){return{scope:!0,templateUrl:"psApp/carService/carServiceCategory.html"}}),angular.module("psApp").filter("makeId",function(){return function(e){return e?e.replace(/[^a-zA-Z0-9 ]/g,"").replace(/ /g,"_"):""}}),angular.module("psApp").controller("carServiceController",["$scope","$state","$timeout","$localStorage","$rootScope","psDataServices",function(e,t,r,o,a,n){function i(){e.showBrandName||(e.showMakeYears=void 0==e.selectedCar.year||""===e.selectedCar.year?!0:!1,e.showMakeYears||(e.showModel=void 0==e.selectedCar.model||""===e.selectedCar.model?!0:!1),e.showModel||(e.showVarient=void 0==e.selectedCar.varient||""===e.selectedCar.varient?!0:!1))}function s(){n.getAllService().success(function(t){e.services=t,e.serviceOpts.viewMode=e.services.serviceName[0],e.commonServices=e.services.serviceDetails[0],e.car.services=[],e.selectedCar.brand?c(e.selectedCar.brand).then(function(){e.carList.carVarientList=["Petrol","Diesel","CNG","Electric"],e.selectedCar.varient&&(e.car.choose_a_service=!0,e.car.showServiceType=!0,e.serviceOpts.viewMode=e.services.serviceName[0],n.setSelectedCarAndService(e.selectedCar))}):e.showBrandName=!0,r(function(){$.each(e.services.serviceDetails,function(t,r){$.each(r,function(r,o){("Common Services"===e.services.serviceName[t]||"Scheduled Maintenance"===e.services.serviceName[t])&&(o.isSingleSelectJob=!0),e.car.services.push(o)})});var t=e.selectedCar.varient&&""!==e.selectedCar.varient?390:230;e.scrollContent(t)},200)}).error(function(){})}function c(t){return n.getCarType(t).success(function(t){e.carList.carTypes=t}).error(function(){})}function l(){return e.car.error=!1,e.car.jobError=!1,e.selectedCar.brand&&""!==e.selectedCar.brand?e.selectedCar.year&&""!==e.selectedCar.year?e.selectedCar.model&&""!==e.selectedCar.model?e.selectedCar.varient&&""!==e.selectedCar.varient?0===e.selectedJob.length?(e.errorMessage="Please select a service.",e.car.jobError=!0,!1):d()?!e.serviceOpts.addingNotes||e.selectedJob.notes&&""!==e.selectedJob.notes.trim()?!0:(e.errorMessage="Please enter notes",e.car.jobError=!0,!1):(e.errorMessage="Please answer the below question('s)",e.car.jobError=!0,!1):(e.errorMessage="Please select your car's engine type.",e.car.error=!0,!1):(e.errorMessage="Please select your car's model.",e.car.error=!0,!1):(e.errorMessage="Please select your car's year.",e.car.error=!0,!1):(e.errorMessage="Please select your car's make.",e.car.error=!0,!1)}function d(){var t=0;return $.each(e.selectedJob,function(e,r){r.questions&&$.each(r.questions,function(e,r){r.answer&&0===r.answer.length&&t++}),!r.addText||r.request&&""!==r.request||t++}),t>0?!1:!0}e.center={},o.userData=o.userData||{},e.searchedText={},e.state=t;var u,p={name:" Describe your problem here",type:[],addText:!0},m=[];e.showBrandName=!1,e.showMakeYears=!1,e.showModel=!1,e.selectedCar=o.userData.car||{},e.car={},e.serviceOpts={},e.selectedJob=[],e.carList={},e.selectBrand=function(t){e.showBrandName=!1,e.showMakeYears=!0,e.showModel=!1,e.showVarient=!1,e.selectedCar.brand!==t&&(e.selectedCar={},e.carList.carTypes={},e.carList.carVarientList={},e.selectedCar.brand=t,n.getCarType(t).success(function(t){e.carList.carTypes=t}).error(function(){}),n.setCentreDetails(void 0))},e.selectYear=function(t){e.showBrandName=!1,e.showMakeYears=!1,e.showVarient=!1,e.selectedCar.year=""!==t?t:"I Don't Know",e.selectedCar.model||(e.showModel=!0),n.setSelectedCarAndService(e.selectedCar),i()},e.selectModel=function(t){e.selectedCar.model!==t?(e.showBrandName=!1,e.showMakeYears=!1,e.showModel=!1,""!==t?(e.selectedCar.model=t,e.selectedCar.varient="",e.carList.carVarientList=["Petrol","Diesel","CNG","Electric"],e.showVarient=!0):(e.selectedCar.model="I Don't Know",e.selectedCar.varient="I Don't Know",e.carList.carVarientList={}),o.userData.car=e.selectedCar,n.setCentreDetails(void 0)):e.showModel=!1},e.selectVarient=function(t){e.selectedCar.varient!==t?(e.showBrandName=!1,e.showMakeYears=!1,e.showModel=!1,e.showVarient=!1,e.selectedCar.varient=""!==t?t:"I Don't Know",o.userData.car=e.selectedCar,e.car.choose_a_service=!0,e.car.showServiceType=!0,e.serviceOpts.viewMode=e.services.serviceName[0],e.commonServices=e.services.serviceDetails[0],n.setSelectedCarAndService(e.selectedCar),n.setCentreDetails(void 0)):e.showVarient=!1},e.editBrand=function(){e.showBrandName=!e.showBrandName,e.showMakeYears=!1,e.showModel=!1,e.showVarient=!1,i()},e.editYear=function(){e.showBrandName=!1,e.showMakeYears=!e.showMakeYears,e.showModel=!1,e.showVarient=!1,e.showMakeYears||i()},e.editModel=function(){e.showBrandName=!1,e.showMakeYears=!1,e.showModel=!e.showModel,e.showVarient=!1,e.showModel||i()},e.editVarient=function(){e.showBrandName=!1,e.showMakeYears=!1,e.showModel=!1,e.showVarient=!e.showVarient},e.commonServices=[],e.changeView=function(){e.serviceOpts.viewMode=this.service?this.service:"consultation",e.commonServices=e.services.serviceDetails[e.services.serviceName.indexOf(this.service)],"consultation"===e.serviceOpts.viewMode&&e.selectedJob.indexOf(p)<0&&e.selectedJob.push(p)},e.addSelectedJob=function(t){if(t.isSingleSelectJob&&!t.selected){var r=e.selectedJob.filter(function(e){return e.isSingleSelectJob===!0});r.length>0&&e.deleteSelectedJob(r[0])}t.selected=!t.selected,e.selectedJob.indexOf(t)<0?(e.selectedJob.push(t),n.setCentreDetails(void 0)):e.selectedJob.splice(e.selectedJob.indexOf(t),1)},e.deleteSelectedJob=function(t){e.selectedJob.indexOf(t)>-1&&e.selectedJob.splice(e.selectedJob.indexOf(t),1),t.selected=!t.selected,n.setCentreDetails(void 0),"consultation"===e.serviceOpts.viewMode&&0===e.selectedJob.length&&(e.serviceOpts.viewMode=e.services.serviceName[0],e.commonServices=e.services.serviceDetails[0])},e.chooseAnswer=function(e,t,r){t.answer||(t.answer=[]),t.answer.indexOf(r)<0?(t.isMultiple||(t.answer=[]),t.answer.push(r)):t.answer.splice(t.answer.indexOf(r),1)},e.selectedCar.brand&&i(),n.getAllCarColletion().success(function(t){e.carList.carCollections=t.carList,e.carList.yearsList=t.yearsList,s()}).error(function(){}),e.scrollContent=function(e){var t=e?e:230;document.body.scrollTop=t},e.showDetails=function(t){e.overlayData=t,$("#detailsModal").modal()},e.setUserJob=function(){var o=[];l()?($.each(e.selectedJob,function(e,t){t.addText||o.push(t.name)}),e.selectedJob.notes&&(e.selectedJob[0].notes=e.selectedJob.notes),n.setSelectedCarAndService(e.selectedCar,e.selectedJob),n.setSelectedServiceName(o),t.go("service.centre")):r(function(){$("html, body").animate({scrollTop:50},"fast")},100)},$("body").click(function(t){if(t.target)var r=t.target.id;return"btnNext"===r?!1:(e.car.error=!1,e.car.jobError=!1,void e.$apply())}),t.go("service.car"),e.state=t,e.search=function(){u||(u=e.serviceOpts.viewMode,m=e.commonServices),e.searchedText.name&&e.searchedText.name.length>0?(e.commonServices=e.car.services,e.serviceOpts.viewMode="search"):e.clearSearch()},e.clearSearch=function(){e.serviceOpts.viewMode=u,e.commonServices=m,u=void 0,e.searchedText.name="",u=void 0},e.setDefault=function(){n.setUserPreference()}}]),angular.module("psApp").directive("carService",function(){return{templateUrl:"psApp/carService/carServiceTemplate.html",link:function(e,t,r){$("body").delegate(".js-filter","click",function(){$(this).prev(".wrap-filter").slideToggle("slow")}),$("body").delegate(".js-filter","click",function(){$(this).toggleClass("filter-up filter-down")}),$(".jelect").jelect()},controller:"carServiceController"}}),angular.module("psApp").filter("formatToCss",function(){return function(e){return e?e.replace(/\(|\)|&|$|\@ |! |-|\+|,/g,"").replace(/  /g,"-").replace(/ /g,"-"):""}}),angular.module("psApp").directive("centreDetails",function(){return{templateUrl:"psApp/carService/centerDetails.html",replace:!0,scope:{centre:"=",add:"&"},controller:["$scope",function(e){e.isDisplaySelected=e.centre.activeCentre,e.selectedCentre=function(){e.add({dirCentre:e.centre})},e.getRatings=function(e){for(var t=[],r=0;e>r;r++)t.push(r);return t}}]}});var placeSearch,autocomplete,autocomplete_textarea,googleMapHolder,map,googleMapMarkers=[],displayCurrentLocation,latlon,userLocation={},locationCall,draggable,infowindow=google.maps?new google.maps.InfoWindow:"",geocoder=google.maps?new google.maps.Geocoder:"",componentForm={sublocality_level_1:"short_name",sublocality_level_2:"short_name",administrative_area_level_2:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},mapOptions={center:latlon,zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP};angular.module("psApp").controller("selectAddressController",["$scope","$window","$state","$location","$localStorage","$sessionStorage","psDataServices","psOrderDetailsService","psLoginService","$timeout",function(e,t,r,o,a,n,i,s,c,l){e.payNow=!0,e.oldNumber=a.userDetails?a.userDetails.phoneNo:void 0,e.vaildatedNo=a.userDetails?a.userDetails.phoneNo:void 0,e.checkMobileNumber=function(){a.userDetails.phoneNo==e.oldNumber&&$(".mobile_validation").hide()},e.orderProcessingTC=function(e,t){window.open(e,t)},e.orderProcess=function(){$("#ReviewOrder").modal("toggle"),l(function(){e.payNow?(i.setPaymentMode("Online"),a.userSelectionData=i.getSelectedService(),e.response=s.payment().then(function(r){0===r.status?null!=r.result&&(t.location.href=r.result.payment_request.longurl):(1===r.status||2===r.status)&&(e.reqError=!0,e.errorMessage=r.message)},function(e){})["finally"](function(){})):(i.setPaymentMode("COD"),e.orderSubmit("","",""))},200)},e.orderSubmit=function(t,o,c){s.submitOrder(t,o,c).then(function(t){0===t.status?(e.receivedOrder=t.result,i.resetAll(),a.userData={},n.orderId=t.result,r.go("orderSuccess")):(1===t.status||2===t.status)&&(e.orderErrorMessage=t.result,r.go("orderError"))},function(){alert("Sorry we are unable to process your order. Please try after some time")})};var d=o.search();null!=d.payment_id&&null!=d.payment_request_id&&s.validateOrder(d.payment_id,d.payment_request_id).success(function(t){0==t.status&&1==t.result.success&&e.orderSubmit(d.payment_id,d.payment_request_id,t.result)}).error(function(){alert("error")}),e.changeNo=function(){e.otp=void 0,e.addressOtp=""},e.ReviewOrder=function(){if(e.otp===e.addressOtp){e.vaildatedNo=e.userSelectedService.userDetails.phoneNo,e.reviewOrder=[];var t=i.getSelectedService();e.review=!0,e.custRequest=!1,e.reviewOrder.push(t),$.each(t.selectedServices,function(t,r){r.addText&&(e.custRequest=!0,e.request=r.request)}),$("#ReviewOrder").modal()}else e.otpError=!0,e.otpSuccess=!1,e.errorMessage="You entered incorrect OTP.",l(function(){e.otpReset()},3e3)},e.requestOtp=function(t){c.mobileVerification(t).then(function(t){0==t.status?(e.otp=t.result,console.log(e.otp),e.again=!0,e.reqSuccess=!0,e.reqError=!1,e.successMessage=t.message,l(function(){e.otpReset()},3e3)):(1==t.status||2==t.status)&&(e.reqError=!0,e.reqSuccess=!1,e.errorMessage=t.message,l(function(){e.otpReset()},3e3))},function(t){e.reqError=!0,e.reqSuccess=!1,e.errorMessage=t.message,l(function(){e.otpReset()},3e3)})},e.otpReset=function(){e.otpSuccess=!1,e.otpError=!1,e.reqSuccess=!1,e.reqError=!1}}]),angular.module("psApp").directive("selectAddress",function(){return{templateUrl:"psApp/carService/selectAddress.html",controller:"selectAddressController",link:function(e,t,r){}}}),angular.module("psApp").directive("selectCar",function(){return{templateUrl:"psApp/carService/selectCar.html",link:function(e,t,r){}}}),angular.module("psApp").controller("selectCentreController",["$scope","psDataServices","$state","$localStorage",function(e,t,r,o){function a(){e.centreDetails.areaList.indexOf(e.googleMapArea)>-1?(e.getCentreDetails(e.googleMapArea),e.centreDetails.area=e.googleMapArea,e.area=e.googleMapArea,$("#areaDropDown").setJelect(e.googleMapArea),e.googleMapArea=""):(e.area="Select Area",$("#areaDropDown").setJelect(""),e.noCentreMatch=!0,n(),e.loadCity(e.city))}function n(){i(),e.centreDetails.centreList=[],e.centreDetails.selectedCentre={},e.centreDetails.recommendedCentre={}}function i(){removeMarker()}e.state=r,e.centreDetails=t.getCentreDetails()?t.getCentreDetails():{},e.selectServiceCentre=function(o){o.activeCentre?(t.setCentreDetails(e.centreDetails),r.go("service.appointment")):(e.centreDetails.selectedCentre.activeCentre=!1,o.activeCentre=!0,e.centreDetails.selectedCentre=o,myClick(o.$$hashKey,e.centreDetails.centreList),$("html, body").animate({scrollTop:50},"slow"))},e.getCentreDetails=function(r){r||(r=e.centreDetails.area),o.userData.area=r,e.noCentreMatch=!1,e.noServiceMatch=!1,r&&"select area"!==r.toLowerCase()?t.getServiceCentreList(e.centreDetails.city,r).success(function(t){t.length>0?(i(),$("#areaDropDown").setJelect(r),e.centreDetails.centreList=[],e.centreDetails.centreList=t,e.centreDetails.selectedCentre=e.centreDetails.centreList[0],e.centreDetails.selectedCentre.activeCentre=!0,e.centreDetails.recommendedCentre=e.centreDetails.centreList[0],e.centreDetails.centreList[e.centreDetails.centreList.indexOf(e.centreDetails.selectedCentre)].activeCentre=!0,setMarkers(e.centreDetails.map,e.centreDetails.centreList,e.markerClick),e.noCentreMatch=!1,e.noServiceMatch=!1):(e.noServiceMatch=!0,n())}).error(function(){}):n()},e.centreDetails.cityList&&0!==e.centreDetails.cityList.length||t.getServiceCentreCity().success(function(t){e.centreDetails.cityList=t}),e.setUserLocation=function(e,t){o.userData.lat=e,o.userData.lng=t},e.getServiceCentreArea=function(){e.noCentreMatch=!1,e.noServiceMatch=!1,o.userData.city=e.city,"select city"!==e.city.toLowerCase()?t.getServiceCentreArea(e.city).success(function(t){i(),e.centreDetails.areaList=t,e.googleMapArea&&""!==e.googleMapArea&&a()}):(e.centreDetails.areaList={},n(),$("#areaDropDown").setJelect(""))},e.markerClick=function(t){t.$$hashKey!=e.centreDetails.selectedCentre.$$hashKey&&(e.centreDetails.selectedCentre.activeCentre=!1,t.activeCentre=!0,e.centreDetails.selectedCentre=t,e.$apply())},e.changeArea=function(){e.area&&"select area"!==e.area.toLowerCase()?$("#addressOverlay").modal("toggle"):n()},e.MapCallback=function(r,n){e.googleMapArea=n,o.userData.area=n,o.userData.city=r,t.setuserAddress(e.centreDetails.userAddress),e.centreDetails.cityList.indexOf(r)>-1?(e.centreDetails.city=r,e.city=r,$("#cityDropDown").setJelect(r),e.centreDetails.areaList&&0!==e.centreDetails.areaList.length?a():e.getServiceCentreArea()):(e.city="Select City",$("#cityDropDown").setJelect(""),$("#areaDropDown").setJelect(""),e.area="Select Area",e.loadCity("India",4))},e.setCentreDetails=function(){t.setCentreDetails(e.centreDetails)}}]),angular.module("psApp").directive("selectCentre",function(){return{templateUrl:"psApp/carService/selectCentre.html",link:function(e,t){function r(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o,a):error("Google Map is not supported")}function o(t){var r=t.coords.latitude,o=t.coords.longitude;h=t.coords.accuracy,b.lat=r,b.lng=o,e.selectUserLocation(!0)}function a(e){switch(e.code){case e.PERMISSION_DENIED:break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.")}n("India",4)}function n(t,r){var o={address:t};callGeoCoderApi(o).then(function(t){var o=t.result.geometry.location.lat(),a=t.result.geometry.location.lng();f=new google.maps.LatLng(o,a);var n={center:f,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP};r&&(n.zoom=r),e.centreDetails.map=new google.maps.Map(document.getElementById("mapholder"),n)})}function i(e,t){g=new google.maps.LatLng(e,t),w.center=g,y.lat=e,y.lng=t,d=new google.maps.Map(document.getElementById("userAddressMap"),w),u=null,u=new google.maps.places.Autocomplete(document.getElementById("users_formatted_address"),{types:["geocode"]}),h=h?h:30;var r=new google.maps.Circle({center:y,radius:h});u.setBounds(r.getBounds()),google.maps.event.addListener(u,"place_changed",c),p=new google.maps.Marker({position:g,map:d,draggable:!0,animation:google.maps.Animation.DROP}),google.maps.event.addListener(p,"dragend",function(){y.lat=p.position.lat(),y.lng=p.position.lng(),g=new google.maps.LatLng(y.lat,y.lng),s(g)})}function s(e){var t={latLng:e};callGeoCoderApi(t).then(function(e){document.getElementById("users_formatted_address")&&(document.getElementById("users_formatted_address").value=e.result.formatted_address),m=e.result})}function c(){D.close(),p.setVisible(!1);var e=u.getPlace();d.setCenter(e.geometry.location),d.setZoom(15),y.lat=e.geometry.location.lat(),y.lng=e.geometry.location.lng(),p.setPosition(e.geometry.location),p.setVisible(!0),m=e}function l(t){var r={center:t,zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP};e.centreDetails.map=new google.maps.Map(document.getElementById("mapholder"),r)}var d,u,p,m,g,h,f,v,y={},b={},w={zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}};$(".jelect").jelect();var D=google&&google.maps?new google.maps.InfoWindow:"";e.centreDetails.area?(f=new google.maps.LatLng(e.centreDetails.userAddress.lat,e.centreDetails.userAddress.lng),l(f),setTimeout(function(){setMarkers(e.centreDetails.map,e.centreDetails.centreList,e.markerClick),e.centreDetails.cityList.indexOf(e.centreDetails.city)>-1&&(e.city=e.centreDetails.city,$("#cityDropDown").setJelect(e.centreDetails.city)),e.centreDetails.areaList.indexOf(e.centreDetails.area)>-1&&(e.area=e.centreDetails.area,$("#areaDropDown").setJelect(e.centreDetails.area))},20)):r(),e.selectUserLocation=function(t){v=!0;var r;if(t?(f=new google.maps.LatLng(b.lat,b.lng),e.setUserLocation(b.lat,b.lng)):(f=new google.maps.LatLng(y.lat,y.lng),e.setUserLocation(y.lat,y.lng)),l(f),m&&m.address_components.length>3)r=getCityAreaFromAddressComponent(m),e.centreDetails.userAddress=r,e.centreDetails.userAddress.lat=y.lat,e.centreDetails.userAddress.lng=y.lng,e.MapCallback(r.city,r.area);else{var o={latLng:f};callGeoCoderApi(o).then(function(o){r=getCityAreaFromAddressComponent(o.result),e.centreDetails.userAddress=r,e.centreDetails.userAddress.lat=y.lat,e.centreDetails.userAddress.lng=y.lng,e.MapCallback(r.city,r.area),t&&(b.area=r.area)})}},e.loadUserMap=function(){if(e.area!==b.area){var t={address:e.area+" "+e.city};callGeoCoderApi(t).then(function(e){m=e.result,i(e.result.geometry.location.lat(),e.result.geometry.location.lng()),document.getElementById("users_formatted_address")&&(document.getElementById("users_formatted_address").value=e.result.formatted_address)})}},$("#addressOverlay").on("shown.bs.modal",function(){v=!1,e.loadUserMap(),e.area===b.area&&(i(b.lat,b.lng),s(g))}),$("#addressOverlay").on("hidden.bs.modal",function(){if(!v){var t=$("#areaDropDown").siblings(".jelect-input").attr("data-old");e.area=t,$("#areaDropDown").setJelect(t)}}),e.loadCity=function(e){n(e)},$("html, body").animate({scrollTop:50},"slow")},controller:"selectCentreController"}}),angular.module("psApp").directive("admin",function(){return{templateUrl:"psapp/admin/admin.html",link:function(e,t,r){function o(e){var t={latLng:e};callGeoCoderApi(t).then(function(e){document.getElementById("centre_formatted_address")&&(document.getElementById("centre_formatted_address").value=e.result.formatted_address),l=getCityAreaFromAddressComponent(e.result)})}function a(){infowindow.close(),s.setVisible(!1);var e=c.getPlace();i.setCenter(e.geometry.location),i.setZoom(15),d.lat=e.geometry.location.lat(),d.lng=e.geometry.location.lng(),s.setPosition(e.geometry.location),s.setVisible(!0),l=getCityAreaFromAddressComponent(e)}$(".jelect").jelect();var n,i,s,c,l,d={},u=new google.maps.LatLng("18.5204303","73.85674369999992"),p={zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}};$("#centreAddressOverlay").on("shown.bs.modal",function(){p.center=u,i=new google.maps.Map(document.getElementById("centreAddressMap"),p),c=null,c=new google.maps.places.Autocomplete(document.getElementById("centre_formatted_address"),{types:["geocode"]});var e=new google.maps.Circle({center:u,radius:30});c.setBounds(e.getBounds()),google.maps.event.addListener(c,"place_changed",a),s=new google.maps.Marker({position:u,map:i,draggable:!0,animation:google.maps.Animation.DROP}),google.maps.event.addListener(s,"dragend",function(){d.lat=s.position.lat(),d.lng=s.position.lng(),n=new google.maps.LatLng(d.lat,d.lng),o(n)})}),e.selectLocation=function(){e.centreDetails.Latitude=d.lat,e.centreDetails.Longitude=d.lng,e.centreDetails.formattedAddress=document.getElementById("centre_formatted_address").value,e.centreDetails.Area=l.area}},controller:["$scope","psDataServices",function(e,t){e.carList={},e.centreDetails={},e.showBrandName=!0;var r={},o=function(){this.ModelList=[],this.MilematePrice=0,this.ActualPrice=0,this.ServiceCentrePrice=0},a=function(){this.Name="",this.Radius="",this.Petrol=[],this.Diesel=[],this.CNG=[],this.Electric=[]};t.geMockData().success(function(t){e.centreDetails=t,angular.extend(r,t)}).error(function(){}),t.getAllCarColletion().success(function(t){e.carList.carCollections=t.carList}).error(function(){}),e.selectBrand=function(r){e.showBrandName=!1,e.showModel=!0,e.brand=r,e.modelList=[],
t.getCarType(r).success(function(t){e.carList.carTypes=t}).error(function(){})},e.selectModel=function(t){e.modelList=e.modelList||[],e.modelList.indexOf(t)<0?e.modelList.push(t):e.modelList.splice(e.modelList.indexOf(t),1)},e.addCentreDetails=function(){var r=new a,n=new o;if(e.modelList&&e.modelList.length>0)switch(n.ModelList=e.modelList,e.centreDetails.nearAreas=e.nearAreas,n.ActualPrice=e.centreDetails.ActualPrice,n.MilematePrice=e.centreDetails.MilematePrice,n.ServiceCentrePrice=e.centreDetails.ServiceCentrePrice,r.Name=e.service,r.Radius=e.radius,e.centreDetails.ServiceDetails=[],e.centreDetails.type){case"Petrol":r.Petrol.push(n),e.centreDetails.ServiceDetails.push(r);break;case"Diesel":r.Diesel.push(n),e.centreDetails.ServiceDetails.push(r);break;case"CNG":r.CNG.push(n),e.centreDetails.ServiceDetails.push(r);break;case"Electric":r.Electric.push(n),e.centreDetails.ServiceDetails.push(r)}console.log(e.centreDetails),t.saveCentreDetails(e.centreDetails).success(function(t){alert(t.message),0===t.status&&(e.centreDetails.Id=parseInt(t.id),e.newCentre=!1)})},e.editBrand=function(){e.showBrandName=!e.showBrandName,e.showModel=!e.showModel},e.openOverlay=function(){$("#centreAddressOverlay").modal("toggle")},e.AreaList=["Pimpri","Chinchwad","Kothrud","Aundh","Pashan","Baner","Koregaon Park","Shivaji Nagar","Pune Railway","Swargate","Boat club","Magarpatta","Daund","Chikhli","Kalewadi","Kasarwadi","Phugewadi ","Pimple Saudagar","Narayan peth","Talegaon","Kasba peth","Shirur","Bhor","Mulshi","Wadgaon","Welhe","Ambegaon","Junnar","Rajgurunagar","Baramati","Indapur","Purandhar","Bhawani Peth","Erandwana","Ghorpuri Lines","Kalyani Nagar","Kondhwa","Narayan Peth","Hadapsar","Akurdi"],e.addArea=function(t){e.nearAreas=e.nearAreas||[],e.nearAreas.indexOf(t)<0?e.nearAreas.push(t):e.nearAreas.splice(e.nearAreas.indexOf(t),1)}}]}}),angular.module("psApp").controller("dashboardController",["$scope","$localStorage","$timeout","$location","psDataServices","psLoginService","psOrderDetailsService",function(e,t,r,o,a,n,i){e.userData={},e.changedDate={pickUpDate:{},dropOffDate:{}},e.hideCalendar=!1,a.getuserDetails()&&(e.userDetails=a.getuserDetails(),angular.extend(e.userData,e.userDetails)),e.oldNo=e.userData.phoneNo,e.oldFirstName=e.userData.firstName,e.oldLastName=e.userData.lastName,e.isEdit=!1,e.tab=o.$$hash,e.updateProfile=function(){var o={firstName:e.userData.firstName,lastName:e.userData.lastName,mobile:e.userData.phoneNo,email:e.userData.email};n.updateProfile(o).then(function(t){1==t.status?(e.cngSuccess=!0,e.cngError=!1,e.successMessage=t.result):(e.cngError=!0,e.cngSuccess=!1,e.errorMessage=t.result,r(function(){e.cngReset()},3e3))},function(t){e.cngError=!0,e.cngSuccess=!1,e.errorMessage=result.result})["finally"](function(){e.isEdit=!1,t.userDetails=e.userData,e.oldNo=e.userData.phoneNo,e.oldFirstName=e.userData.firstName,e.oldLastName=e.userData.lastName,e.resetAfterSubmitProfile(),r(function(){e.cngReset()},3e3)})},e.updatePassword=function(){var t={oldPassword:e.oldPwd,newPassword:e.newPwd,email:e.userDetails.email};e.newPwd==e.reNewPwd?n.updatePassword(t).then(function(t){1==t.status?(e.cngSuccess=!0,e.cngError=!1,e.successMessage=t.result):2==t.status&&(e.cngError=!0,e.cngSuccess=!1,e.errorMessage=t.result)},function(t){e.cngError=!0,e.cngSuccess=!1,e.errorMessage=result.result})["finally"](function(){e.resetAfterSubmit(),r(function(){e.cngReset()},3e3)}):(e.cngSuccess=!1,e.cngError=!0,e.resetAfterSubmit(),e.errorMessage="Password doesn't match.",r(function(){e.cngReset()},3e3))},e.cngReset=function(){e.cngSuccess=!1,e.cngError=!1},e.resetAfterSubmitProfile=function(){e.addressOtp=null,e.profileForm.firstName.$dirty=!1,e.profileForm.lastName.$dirty=!1,e.profileForm.mobile.$dirty=!1},e.resetAfterSubmit=function(){e.oldPwd=null,e.newPwd=null,e.reNewPwd=null,e.changePassword.oldPwd.$dirty=!1,e.changePassword.newPwd.$dirty=!1,e.changePassword.reNewPwd.$dirty=!1},e.getOrderOnStatus=function(t){i.getAllPendingOrder(t).then(function(r){"Pending"==t&&(e.pendingOrders=r),"Success"==t&&(e.successOrders=r),"All"===t&&0===r.status&&(e.pendingOrders=r.result&&r.result.length>0?r.result[0]:[],e.successOrders=r.result&&r.result.length>0?r.result[1]:[])},function(){alert("error")})},e.modalShown=!1,e.showDailog=function(t){e.modalShown=!0,e.showInformation=!1,e.overlayMessage=void 0,e.cancelledOrder=t,$("#modalOverlay").modal("toggle")},e.cancelOrder=function(){e.modalShown=!1,i.cancelOrder(e.cancelledOrder.invoiceNo,e.cancelledOrder.userDetails.email).then(function(t){0===t.status&&(e.pendingOrders=t.result&&t.result.length>0?t.result[0]:[],e.successOrders=t.result&&t.result.length>0?t.result[1]:[]),e.overlayMessage=t.message,e.showInformation=!0,r(function(){$("#modalOverlay").modal("toggle")},500)},function(){alert("error")})},e.changeDateAndTime=function(t){i.editDateAndTime(t.invoiceNo,e.changedDate).then(function(o){0===o.status&&(t.selectedAppointment.dropOffDate=e.changedDate.dropOffDate,t.selectedAppointment.pickUpDate=e.changedDate.pickUpDate),e.overlayMessage=o.result,e.showInformation=!0,r(function(){$("#modalOverlay").modal("toggle")},400)},function(){alert("error")})["finally"](function(){e.centreWorkingHours=[],e.availableDropTime=[],e.changedDate={pickUpDate:{},dropOffDate:{}}})}}]),angular.module("index").directive("dashboard",function(){return{templateUrl:"psApp/dashboard/dashboardTemplate.html",controller:"dashboardController",link:function(e,t,r){e.getOrderOnStatus("All");var o=e.tab?e.tab:"booking";t.find("#"+o).addClass("active").addClass("in"),t.find('.nav a[href="#'+o+'"]').attr("aria-expanded","true"),t.find('.nav a[href="#'+o+'"]').parent().addClass("active"),e.loadTab=function(e){var t="profile"===e?"profile-tab":"password-tab",r="profile"!==e?"profile-tab":"password-tab";$("#"+t).addClass("active"),$("#"+r).removeClass("active")},e.loadTab("profile"),t.find("#liProfile").addClass("active")}}}),angular.module("psApp").directive("editOrder",function(){return{templateUrl:"psApp/dashboard/editOrder.html",controller:"dashboardController",replace:!0,link:function(e,t,r){function o(t,r){for(var o,i=t.getDate(),c=[],l=0;8>l;l++){var u=[],p=new Date(t);p.setDate(i),o=p;var m=o.toDateString();if(e.changedDate.pickUpDate.day===m&&r){var g=r.split(" ");g="AM"===g[1]?g[0]:12!==g[0]?12+parseInt(g[0]):g[0];var h=e.timeToDisplay.indexOf(parseInt(g)+6);h>-1?e.timeToDisplay.splice(0,h):e.timeToDisplay=[]}else e.timeToDisplay=[8,9,10,11,12,13,14,15,16,17,18,19];if($.each(e.timeToDisplay,function(e,t){if(o.toDateString()===s.toDateString()&&n(t,o)){var r={time:a(t)};u.push(r)}else{var r={time:a(t)};u.push(r)}}),u.length>0&&c.push({day:m,WorkingHours:u}),i++,5===c.length||d.toDateString()==m)break}return c}function a(e){var t=e,r="AM",o=t;return o>=12&&(o=t-12,r="PM"),0==o&&(o=12),o+" "+r}function n(e,t){return t.toDateString()===s.toDateString()?e>c?!0:!1:!0}function i(t,r){var o=new Date;r&&o.setDate(parseInt(e.changedDate.pickUpDate.day.split(" ")[2])+1),e.disablePrevBtn=s.toDateString()===t[0].day?!0:!r||e.changedDate.pickUpDate.day!==t[0].day&&o.toDateString()!==t[0].day?!1:!0,e.disableNextBtn=d.toDateString()===t[t.length-1].day?!0:!1}e.dateToDisplay=[],e.timeToDisplay=[8,9,10,11,12,13,14,15,16,17,18,19],e.hideCalendar=!1,e.showPickUpCalendar=!0,e.centreWorkingHours=[],e.availableDropTime=[];var s=new Date,c=s.getHours(),l=s.getDate(),d=new Date;d.setDate(l+14),e.setFiveDay=function(t){e.centreWorkingHours=o(t)},e.setFiveDay(s),i(e.centreWorkingHours),e.editPickupDate=function(t){e.changedDate.dropOffDate={},e.changedDate.pickUpDate.day=t.day,e.changedDate.pickUpDate.time=t.time,e.showPickUpCalendar=!1,e.showDropCalendar=!0;var r=new Date;r.setDate(t.day.split(" ")[2]),e.availablePickUpTime=o(r,t.time),i(e.availablePickUpTime,!0)},e.togglePickUp=function(){e.showPickUpCalendar=!e.showPickUpCalendar,e.showDropCalendar=!1,i(e.centreWorkingHours)},e.toggleDropOff=function(){e.showPickUpCalendar=!1,e.showDropCalendar=!e.showDropCalendar,i(e.availablePickUpTime,!0)},e.editDropDate=function(t){e.changedDate.dropOffDate.day=t.day,e.changedDate.dropOffDate.time=t.time,e.showDropCalendar=!1,e.hideCalendar=!0},e.openCalender=function(t){e.centreWorkingHours&&0!==e.centreWorkingHours.length||e.setFiveDay(s),$("#editOrder").modal("toggle"),e.editOrder=t,e.showPickUpCalendar=!0,e.showDropCalendar=!1},e.nextDates=function(t){var r=e.showPickUpCalendar?e.centreWorkingHours:e.availablePickUpTime,a="prev"===t?r[0].day:r[e.centreWorkingHours.length-1].day;a=new Date(a);var n=a.getDate();a.setDate("prev"===t?n-5:n+1),e.showPickUpCalendar?(e.centreWorkingHours=o(a),i(e.centreWorkingHours)):(e.availablePickUpTime=o(a,e.changedDate.pickUpDate.time),i(e.availablePickUpTime,!0))}}}}),angular.module("psApp").directive("orderDetails",function(){return{templateUrl:"psApp/dashboard/orderDetailsTemplate.html",link:function(e,t,r){},replace:!0,scope:{orders:"=",review:"="}}}),angular.module("psApp").directive("psAboutUs",[function(){return{scope:{},template:"<about-us></about-us>",link:function(e){}}}]),angular.module("psApp").directive("psContactUs",[function(){return{scope:{},template:"<contact-us></contact-us>",link:function(e){}}}]),angular.module("psApp").directive("psDashboard",[function(){return{scope:{},template:"<dashboard></dashboard>",link:function(e){}}}]),angular.module("psApp").directive("psIndex",[function(){return{scope:{},template:"<index></index>",link:function(e){}}}]),angular.module("psApp").directive("psOrderProcessing",[function(){return{scope:{},template:"<order-processing-terms></order-processing-terms>",link:function(e){}}}]),angular.module("psApp").directive("psPricing",[function(){return{scope:{},template:"<pricing></pricing>",link:function(e){}}}]),angular.module("psApp").directive("psPrivacyPolicy",[function(){return{scope:{},template:"<privacy-policy></privacy-policy>",link:function(e){}}}]),angular.module("psApp").directive("psTerms",[function(){return{scope:{},template:"<terms></terms>",link:function(e){}}}]),angular.module("psApp").directive("footerContent",function(){return{templateUrl:"psApp/footerContent/footerContentTemplate.html",link:function(){{var e={center:new google.maps.LatLng("18.5204303","73.85674369999992"),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(document.getElementById("footer-map"),e)}$(function(){$(".scroll[href*=#]:not([href=#])").click(function(){var e=$(this.hash);return e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length?($("html,body").animate({scrollTop:e.offset().top},1e3),!1):void 0})});var t=$(window).width();t>1200&&$(window).scroll(function(){$(".animatedEntrance").each(function(){var e=$(this).offset().top,t=$(window).scrollTop();t+400>e&&$(this).addClass("slideUp")})})}}}),angular.module("psApp").directive("collapsable",["$timeout",function(e){return{replace:!0,scope:{data:"="},templateUrl:"psApp/headerContent/CollapsableTemplate.html"}}]),angular.module("psApp").controller("headerContentController",["$scope","$localStorage","$location","$rootScope","$state","psLoginService",function(e,t,r,o,a,n){e.isLoggedIn=t.userDetails?!0:!1,e.userDetails=t.userDetails?t.userDetails:"",o.$on("ps-user-profile-show",function(t,r){e.isLoggedIn=r.isLoggedIn,e.userDetails=r.userDetails}),e.openloginModal=function(){$("#loginModal").modal("toggle"),$("#signin-taba").tab("show")},e.logout=function(){e.isLoggedIn=!1,n.setUserAuthenticated(!1),t.userDetails=void 0,a.go("home")}}]),angular.module("psApp").directive("headerContent",function(){return{templateUrl:"psApp/headerContent/headerContentTemplate.html",controller:"headerContentController",link:function(e,t,r,o){makeSyickyHeader(),scrollBackToTop(),$("a.back-to-top").click(function(){return $("html, body").animate({scrollTop:0},700),!1})}}}),angular.module("index").directive("aboutUs",function(){return{templateUrl:"psApp/index/aboutUsTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("index").directive("carousel",function(){return{templateUrl:"psApp/index/carouselTemplate.html",controller:"indexController",link:function(e,t,r){loadCraousel()}}});var loadCraousel=function(){var e=$("#sliderpro1");e.length>0&&e.sliderPro({width:2e3,height:900,fade:!0,arrows:!0,buttons:!1,waitForLayers:!1,thumbnailPointer:!1,touchSwipe:!1,autoplay:!0,autoScaleLayers:!0}),$(".ct-embed").each(function(){var e=$(this);e.find("i").on("click",function(){$(this).addClass("hide"),e.find("img").addClass("hide"),e.find(".ct-embed-content").addClass("hide"),e.find("video").get(0).play()})})};angular.module("index").directive("contactUs",function(){return{templateUrl:"psApp/index/contactUsTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("index").directive("customerFeedback",function(){return{templateUrl:"psApp/index/customerFeedbackTemplate.html",link:function(e,t,r){Core.initialize(),PrevNextFeedbackDetails()}}});var PrevNextFeedbackDetails=function(){if($(".column-carousel").length){var e=$(".column-carousel.owl-carousel");e.owlCarousel({autoPlay:!0,autoplayTimeout:1e3,items:3,itemsDesktop:[1e3,5],itemsDesktopSmall:[900,3],itemsTablet:[600,2],dots:!0,autoplayHoverPause:!0,loop:!0,pagination:!0}),$("body").delegate(".feedbackcaro.caro-next-brand","click",this,function(){e.trigger("owl.next")}),$("body").delegate(".feedbackcaro.caro-prev-brand","click",this,function(){e.trigger("owl.prev")})}};angular.module("index").directive("highlights",function(){return{controller:"indexController",templateUrl:"psApp/index/highlightsTemplate.html",link:function(e,t,r){}}}),angular.module("index").controller("indexController",["$localStorage","$location","$scope","$http","indexDataService","psLoginService","$timeout",function(e,t,r,o,a,n,i){r.go=function(e){t.path(e)},a&&(a.getHighlights().then(function(e){r.highlightsList=e},function(){console.log("Could not load highlights data.")})["finally"](function(){}),a.orderProcessingTC().then(function(e){r.optcList=e},function(){console.log("Could not load order processing T&C data.")})["finally"](function(){}),a.getPrivacyPolicy().then(function(e){r.privacyPolicyList=e},function(){console.log("Could not load privacy policy data.")})["finally"](function(){}),a.getTerms().then(function(e){r.termsList=e},function(){console.log("Could not load terms data.")})["finally"](function(){}),a.getAboutUs().then(function(e){r.aboutUsList=e},function(){console.log("Could not load about us data.")})["finally"](function(){}),a.getMainFeatures().then(function(e){r.mainFeatureList=e},function(){console.log("Could not load main feature data.")})["finally"](function(){})),r.fSuccess=!1,r.fError=!1,r.contactUs=function(){a.feedback(r.firstName,r.lastName,r.phone,r.subject,r.message).then(function(e){0==e.status?(r.fSuccess=!0,r.fError=!1,r.successMessage=e.message):1==e.status&&(r.fError=!0,r.fSuccess=!1,r.errorMessage=e.message)},function(e){r.fError=!0,r.fSuccess=!1,r.errorMessage=e.message})["finally"](function(){r.isBusy=!1,r.feedbackForm.firstName.$dirty=!1,r.feedbackForm.lastName.$dirty=!1,r.feedbackForm.mobile.$dirty=!1,r.feedbackForm.subject.$dirty=!1,r.feedbackForm.message.$dirty=!1,r.firstName=null,r.lastName=null,r.mobile=null,r.subject=null,r.message=null,i(function(){r.fReset()},3e3)})},r.fReset=function(){r.fSuccess=!1,r.fError=!1},r.resetSubscriberAfterSubmit=function(){r.subEmail=null,r.subName=null,r.subForm.remail.$dirty=!1,r.subForm.rname.$dirty=!1},r.subReset=function(){r.regSuccess=!1,r.regError=!1,r.reqSuccess=!1,r.reqError=!1},r.subscribe=function(){n.subscribe(r.subName,r.subEmail).then(function(e){0==e.status?(r.resetSubscriberAfterSubmit(),r.regSuccess=!0,r.regError=!1,r.successMessage=e.message,$("#subscribeModal").modal("toggle"),$(".subscriptionMessage").text(r.successMessage)):(1==e.status||2==e.status)&&(r.regError=!0,r.regSuccess=!1,r.again=!1,r.errorMessage=e.message,$("#subscribeModal").modal("toggle"),$(".subscriptionMessage").text(r.errorMessage))},function(e){r.regError=!1,r.errorMessage=e.message,$("#subscribeModal").modal("toggle"),$(".subscriptionMessage").text(r.errorMessage)})["finally"](function(){r.isBusy=!1,i(function(){r.subReset()},3e3)})}}]),angular.module("index").directive("index",function(){return{templateUrl:"psApp/index/indexTemplate.html",link:function(e,t,r){(new WOW).init()}}});var indexApp=angular.module("index");indexApp.factory("indexDataService",["$timeout","$http","$q",function(e,t,r){var o=[{id:1e3,imageSrc:"assets/media/posts/370x250/1.jpg",title:"Time is Money!!",date:{day:1,month:"oct"},content:"Book our services, keep an eye on the clock and we are there on time as we promised."},{id:1e3,imageSrc:"assets/media/posts/370x250/2.jpg",title:"Cash-less : the way to go",date:{day:2,month:"oct"},content:"Get over the problem of stacking out the exact change, use our secure online payment option...and it's done!!!!"},{id:1e3,imageSrc:"assets/media/posts/370x250/3.jpg",title:"Pick Up and Dropoff Guys!!",date:{day:3,month:"oct"},content:"Car needs servicing but have other plans??.. Go for it !! We will pick up your car, GROOM it up and drop it back as if it never went!!!! "},{id:1e3,imageSrc:"assets/media/posts/370x250/4.jpg",title:"Track it up!!",date:{day:4,month:"oct"},content:"Concerned about where your vehicle is at present? TRACK IT UP through our real time tracking system, lay back and enjoy your time."},{id:1e3,imageSrc:"assets/media/posts/370x250/5.jpg",title:"As you say....SIR/MA'AM!!!",date:{day:5,month:"oct"},content:"You select all you need, we do all it takes to CHECK all the BOXES in your requirement."},{id:1e3,imageSrc:"assets/media/posts/370x250/6.jpg",title:"Breakdown PANGA !!",date:{day:6,month:"oct"},content:"BEMUSED!! why your vehicle brokedown ? Need help at your place of convenience ? We are just a few clicks away. At your doorsteps (24*7) as and when u need !!!!"}],a=[{heading:"License for Personal Use",desc:[{text:"By using this Website, whether as a “Visitor” (meaning you simply browse the Website) or as a “User” (meaning you have registered with and/or submitted content to the Website either as an individual or as a company), implies that you agree to be bound by this Agreement and the Privacy Policy located at https://www.milemates.com/PrivacyPolicy. The terms “You”, “Your” or “User” shall mean any natural or legal person who has agreed to become a User on the Website by providing registration data while registering on the Website as a User using the computer systems and the terms  “We”, “ours will refer to milemates.com."},{text:"The Terms of use mentioned, include your rights, obligations and restrictions regarding the use of the Website by you, please read it carefully. If you do not agree to the Terms, you should leave the Website and discontinue use of the Services immediately. If you wish to become a User, and generally avail our Services, you must read these Terms of Use and indicate your acceptance during the content submission process."},{text:"We urge you to read the terms of use before using or registering on our website."},{text:"We may modify these Terms from time to time and each modification will be effective when it is posted on the Website without any prior notice. You agree to be bound to all of the terms and we urge you to please visit our terms page for any updates related to the terms as you won’t be notified of any modifications."}]},{heading:"SERVICES",desc:[{text:"All services  provided by the Service Provider, through Software, to the Customer by means of the Customer’s use of the booking channel (Website/Application/call center etc.), for booking purposes, are hereinafter referred to as the “Service”. Furthermore, the term Services shall include any service for which any consideration is paid /not paid to the Service Provider by the Customer and will be covered by these Terms and Conditions."},{text:"This Website is a platform which facilitates the online transaction of products and services offered by MILEMATES various affiliates/ registered merchants/ service providers/ service providers. The Services are offered to the Users through various modes which shall include but not be limited to, the sale of Vouchers that can be redeemed for various products and services, the sale of products etc. The Service Providers are the sellers of products and services on the Website and will be solely responsible to you for the products sold or services availed and purchased by you through the Website."},{text:"The Services may be requested through phone via Website, calling on the number provided on the website, an application supplied by the Service Provider and downloaded and installed by You on an internet-enabled mobile device (the “Application”) or through any other channel made available by the Service Provider for booking purpose."},{text:"Some of the Services offered by the Service Provider are sourced from third parties who have a contractual relationship with the Service Provider. MILEMATES is only responsible for the services which are directly provided by us. The Service Provider offers information and a method to obtain such third party services from third party service providers, but does not, and does not intend to, provide third party services or act in any way as a third party service provider, and has no responsibility or liability for any third party services provided to (or failed to be provided) nor for the actions or inactions of any third party service providers."},{text:"The services provided by third party service providers is termed as “TP Services or External Services” and include servicing of Customer’s vehicle for scheduled/unscheduled, maintenance/accidental or for any other kind of repair and maintenance work of vehicle (“Customer Vehicle ”)."},{text:"The Website/Application also provides Customer with the option of hiring of Ambassadors with facility to track Vehicle movement, that tracks the Customer Vehicle from Customer’s residence/office or any other location as specified by the Customer to the registered Service Network Partner of the third party service provider and from the registered Service Network Partner to a location as specified by Customer. Movement of vehicle facility provides Customer the ability to track the movement of Customer Vehicle during pickup and delivery service."},{text:"We(“MILEMATES”) do not guarantee or warranty and make no representations regarding, the reliability, quality or suitability of such third party service providers. The Service Provider shall reasonably provide sufficient training, quality control procedures and processes to ensure commercially reasonable services by third party service providers. However, under no circumstance does the Service Provider accept liability in connection with and/or arising from the services or any acts, action, behavior, conduct, and/or negligence on the part of the third-party service provider whether online or offline. Any complaints about the services provided by the third party service provider should be directly submitted to the concerned third party service provider. By using the Services, You agree to hold the Company free from any responsibility, liability or damages that may arise out of or in relation to booking Service through the call center, Website, Application or the Services. The Company and its affiliates and licensors shall not be liable for any claim, injury or damages arising out of or in connection with your use of the Service or the TP Services."},{text:"You may only access the Service using authorized means. It is Your responsibility to check and ensure You have accessed or downloaded the correct Website/Application for Your device. The Company is not liable if You do not have a compatible handset."}]},{heading:"Liability and Warranty Disclaimers",desc:[{text:"ALL MATERIALS, INFORMATION, SOFTWARE, PRODUCTS AND SERVICES INCLUDED IN OR AVAILABLE THROUGH THE MILEMATES AUTOMOTIVE NETWORK ARE PROVIDED 'AS AVAILABLE' AND 'AS IS' FOR YOUR USE. THE MILEMATES AUTOMOTIVE NETWORK AND ALL MATERIALS, INFORMATION, SOFTWARE, PRODUCTS AND SERVICES INCLUDED IN OR AVAILABLE THROUGH THE MILEMATES AUTOMOTIVE NETWORK ARE PROVIDED WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT. WE AND THE OTHER ENTITIES FROM WHOM WE OBTAIN CONTENT DO NOT WARRANT THAT THE MATERIALS, INFORMATION (INCLUDING PRICES), SOFTWARE, PRODUCTS OR SERVICES INCLUDED IN OR AVAILABLE THROUGH THE MILEMATES AUTOMOTIVE NETWORK ARE ACCURATE, RELIABLE OR CORRECT; THAT THE MILEMATES AUTOMOTIVE NETWORK WILL BE AVAILABLE AT ANY PARTICULAR TIME OR LOCATION; THAT ANY DEFECTS OR ERRORS WILL BE CORRECTED; OR THAT THE MILEMATES AUTOMOTIVE NETWORK IS FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. YOUR USE OF THE MILEMATES  AUTOMOTIVE NETWORK IS SOLELY AT YOUR RISK. BECAUSE SOME JURISDICTIONS DO NOT PERMIT THE EXCLUSION OF CERTAIN WARRANTIES, THESE EXCLUSIONS MAY NOT APPLY TO YOU."},{text:"All prices, incentives (like offers) and rebate information, and other information displayed on the MILEMATES Automotive Network are gathered from sources and based on algorithms that are believed by us to be reliable (other than Visitor-Submitted Content, as to which we make no such representation), but we do not verify this information and no assurance can be given that this information is accurate, complete or current. Furthermore, the  prices displayed on the MileMates Automotive Network for vehicles advertised by dealers are sometimes calculated by us based on data MILEMATES rules supplied to us by the dealers or by intermediaries who transmit data from the dealers to us; neither we nor the dealers are responsible for any errors in such data or rules, or for any errors that may occur in the manner in which we apply such data and rules to determine the vehicle prices displayed. Before purchasing any vehicle or other goods or services you read about on the MILEMATES Automotive Network, you should confirm with the dealer or vendor any information (including the price and available incentives or rebates) that is important to your decision."},{text:"In addition, we can give no assurance that any advice, recommendation or guidance that we provide on the MILEMATES website , in press releases, in communications between our staff and third parties, or in any other medium, or that are provided by our visitors through the MILEMATES website, is accurate, complete or current. We do not warrant the accuracy of or assume (and you agree that MileMates does not bear any) responsibility for any errors or omissions in the information, advice, recommendations or guidance provided by either our staff or our visitors."},{text:"The MILEMATES website displays both third-party advertising and links to many other Web sites not operated by us, including sites where you can obtain products and services such as new and used vehicles and vehicle financing and insurance. While we encourage you to consult such sites, MILEMATES does not control, endorse or guarantee any of the content found on such sites, or the content of any advertising we display; we are not responsible for the claims made by third parties or for the products or services those third parties provide; and we do not guarantee or warrant the prices, terms, quality, reliability or performance of the products or services provided by those third parties. You agree that MILEMATES is not responsible for any advertising that we display on our website, or for any content, associated links, resources or services on or provided through sites not operated by us, and that MILEMATES shall not be liable for any loss or damage of any kind arising from or incurred in connection with your use of third-party content, services or products. We do not co-sponsor, operate, endorse or guarantee any sweepstakes or contest offer that may be promoted from time to time by third parties or that may be accessible through links from the MILEMATES."},{text:"On the website we collect personally identifiable information from individuals who authorize us to submit such information to one or more automobile dealers. As provided in our Privacy Statement, in some instances such information is also provided to other third parties. Those dealers and other third parties are not affiliated with MILEMATES Private Limited. These services are provided on an 'as is' basis; neither we nor such third parties make any representation or warranty concerning, or are responsible for, any of the products or services those dealers provide, the manner in which those products or services are provided, or for any use made by those dealers of your personally identifiable information."}]},{heading:"Electronic Communications",desc:[{text:"When you visit the MILEMATES website or send e-mails to us, you are communicating with us electronically. You consent to receive communications from us electronically via emails and more. We may communicate with you by e-mail or by posting notices on the MILEMATES website. You agree that all agreements, notices, disclosures and other communications that we provide to you electronically or that you provide to us electronically satisfy any legal requirement that such communications be in writing."}]},{heading:"ELIGIBILITY",desc:[{text:"We provide access to our services to only those individuals or companies who can form legally binding contracts under Indian law. Therefore, Customer(s) must be at least eighteen (18) years of age to be eligible to use Our Services."},{text:"We (“MILEMATES”) advises our Customers that while using the Website/Application, You must follow/abide by all applicable laws. We are not responsible for any possible consequences caused by your behaviour during use of the Website."}]},{heading:"APPLICABILITY",desc:[{text:"These Terms and Conditions apply to Customers who access the Website/Application for any purpose. It also applies to any legal entity which may be represented by the Customer under actual or apparent authority. These Terms and Conditions apply to all Services offered on the Website/Application, collectively with any additional terms and condition that may be applicable to the specific Service used/accessed by the Customer."},{text:"In the event of a conflict or inconsistency between any provision of the terms and conditions mentioned herein with those of the particular service, the provisions of the terms and conditions applicable to such specific Services shall prevail."}]},{heading:"SUBSEQUENT AMENDMENTS, MODIFICATIONS AND RESTATEMENTS",desc:[{text:"The Service Provider may change, modify, amend, or update these Terms of use and Conditions from time to time without any prior notification to the Customer and the amended terms and conditions of use shall be effective immediately as soon as posted on the Website/Application. If the Customer does not adhere to the changes in any of these terms and conditions, the Service Provider shall terminate these Terms and Conditions with respect to such Customer and deny access to Services in Service Provider’s sole discretion. The continued use of the Services by the Customer will signify the unambiguous acceptance of the changed terms."}]},{heading:"COMMUNICATION",desc:[{text:"In order to  improve the Service that we provide to you, You may need to communicate with Us through emails or any other mode of communication. When You use the Website/Application or send emails or other data and information, you agree and understand that You are communicating with Us through electronic records and You hereby provide Your express consent to receive communications via electronic records from Us periodically and as and when required. We may communicate with you by email, SMS or such other mode of communication, electronic or otherwise. It is important you understand that any such mode of communication, inter alia, helps us provide you with information that we think you require from time to time such as confirmation of a Service booked on the Website/Application or knowing the status of delivery of your vehicle."
}]},{heading:"Termination of Services",desc:[{text:"We may suspend or cancel your registration and/ or terminate your access to MILEMATES if you breach any of these  Terms of Use or have made improper use of The Services. You may cancel your registration at any time by informing us in writing. If you do so you must stop using The Services."},{text:"The suspension, cancellation or termination of your registration and your right to use The Services shall not affect either party’s statutory right or liabilities."}]},{heading:"Compliance with Laws",desc:[{text:"All dealing entities on MILEMATES website are informed to comply with the applicable laws including Foreign Exchange Management Act, 1999 but not limited to the rules made and notifications issued under and the Exchange Control Manual as may be issued by Reserve Bank of India from time to time, Customs Act, Information and Technology Act, 2000 as amended by the Information Technology (Amendment) Act 2008, Prevention of Money Laundering Act, 2002 and the rules made under, Foreign Contribution Regulation Act, 1976 and the rules made under, Income Tax Act, 1961 and the rules made under, Export Import Policy of government of India) applicable to them respectively and relevant amendment from time to time."}]},{heading:"Applicable Law",desc:[{text:"These Terms and Conditions will be subject to the laws of New Delhi, India and the courts shall have jurisdiction to resolve any disputes between us."}]},{heading:"Cancellation of requested services",desc:[{list:[{text:"How? : Customer can initiate a cancellation by either writing to care@milemates.com, or by calling +91-8380911266."},{text:"Free cancellation (When?): If the cancellation is initiated before the car has been picked up, the customer will not have to pay any ‘cancellation charges’."},{text:"Additional Charges (When?)Once the vehicle has been picked up, customer can’t avail of free cancellation. In case the customer initiates a cancellation after the car has been picked up, customer will have to pay a ‘cancellation charge’ of Rs.200."},{text:"Customer will have to pay a cancellation charge of Rs. 500 or 10% of the total estimated labour charges whichever is high if the job is not entrusted to “MILEMATES and its affiliates” after obtaining the estimates."},{text:"In case the customer initiates a cancellation after work has commenced on the car, the customer shall be liable to pay charges for spares and labour already used on the car."}]}]},{heading:"REFUND related to service availed on our website",desc:[{list:[{text:"In the case of cancellation of service by the customer, the customer will be refunded the amount paid by the customer after deducting the necessary cancellation charges."},{text:"All refunds shall be made through NEFT / RTGS within a period of 7 days."}]},{text:"These Terms of Use were last updated on 25th May 2016."}]}],n=[{heading:"Order Processing Terms & Conditions",desc:[{list:[{text:"It is mandatory to cross check the order Id and other details related to appointment filled by service provider on the job card with the message received from MileMates containing the apponitment details to avail the MileMates services. If job card contains invalid order Id then user should not hand over his/her vehicle to MileMates service advisor and contact MileMates customer care helpline as soon as possible which in turn, help MileMates to detect fraud activities."},{text:"It is mandatory to sign the job card provided by MileMates pick-up service advisor before handing over your vehicle to MileMates. If job card is not signed by customer then MileMates, under any circumstances will not have any responsibility or liability to user."},{text:"Please ensure the vehicle reaches the service provider at the selected time slot to avoid inconvenience or cancellations if user choose to drop-off his/her vehicle by its own."},{text:"Payment for the service availed to be paid directly to the service provider in cash in case of Cash on Delivery."},{text:"Service price is inclusive of all applicable taxes. Charges may vary in case of quotation for any part replacement if applicable."},{text:"Additional services availed (if any) or parts used other than those included in the offer will be charged as per the service provider's rate card. Applicable taxes will be applied in this case."},{text:"Cancellations will be considered only if the request is made at least 2 hours before the scheduled time of service or pick-up."},{text:"A cancellation is to be deemed accepted by MileMates only if the user receives a confirmation e-mail/sms on the contact details provided at the time of booking by the user."},{text:"Refund will be processed automatically on acceptance of the service order cancellation."},{text:"If cancellation is done with a notice of minimum 24 hours prior to the scheduled time of appointment, money will be refunded post deduction of 5% of the service fees."},{text:"Disputes if any shall be resolved between user and Service Provider. MileMates, under any circumstances will not have any responsibility or liability to user."},{text:"All other terms of use and privacy policy of milemates.com are also applicable in case of Order processing and Cancellation / Refund."}]},{text:"These Terms of Use were last updated on 25th May 2016."}]}],i=[{heading:"PRIVACY & SAFEGUARD NOTICE",desc:[{text:"This privacy policy has been collated to signify the use and protection of customer information, which you have disclosed (for various services availed on our site) during the use of our site."},{text:"We, at the “MILEMATES” are committed to ensuring that customer’s privacy is maintained and protected."},{text:"While availing facilities on MILEMATES, you will be required to provide some personal data by which you can be identified, be rest assured that your data will only be used based on this privacy policy."},{text:"This policy might be updated anytime in future without any prior notice, so please keep yourself updated about MILEMATES privacy policy by visiting this privacy policy page."},{text:"This Privacy Policy was last updated on 1st April 2016."}]},{heading:"WHAT WE COMPLY/OBEY TO",desc:[{text:"At MILEMATES, we will not expose (sell, share or rent) your personal information to any third party. Also, your email address/mobile number will not be used for any unsolicited emails and/or SMS. Any emails and/or SMS received from MILEMATES will only be accordance with the provision of agreed services, products and will obey this Policy."},{text:"Some periodic statistics may be disclosed from our end related to number of visitors, a number of services availed and track of goods purchased etc."},{text:"We are in our rights to communicate your personal information to any third party under one or more of the following circumstances-",list:[{text:"Only when you have agreed and provide your consent to do so;"},{text:"Only when we are compelled by law (including court orders) to do so."}]}]},{heading:"DATA Collection : WHAT?",desc:[{text:"No personal identification information is required to visit this site. MILEMATES automatically collects data (your preferences on our site)based on your selection and service availed by you from our site. Your personal details will be fetched only when you share it while availing our services which require you to provide personal data."},{text:"The Information we collect based on your submission may include the following:",list:[{text:"Your Name."},{text:"Your contact details like mobile no. , email ID, an address where you stay."},{text:"Vehicle Details like Vehicle Make and Model, Issue reported by you related to the vehicle."},{text:"Your preferences (track of past usage)on our sites for better User Experience and fast processing."},{text:"Customer Survey Information."}]}]},{heading:"Information Gathering : Why?",desc:[{text:"We need to gather this information to understand your needs and to serve you with better service, and in particular for the following reasons:",list:[{text:"For Internal record maintenance."},{text:"Inform you about offers, products, services, updates, customise your experience, detect & protect us against error, fraud and other criminal activity, enforce our terms and conditions, and as otherwise described to you at the time of collection etc."},{text:"We may contact you by email, phone, fax or mail. We may use the information to customise the website according to your interests."}]}]},{heading:"Opting out of Mailing List:",desc:[{list:[{text:"By providing your email address to MILEMATES, either during a transaction or any other relevant form, you agree to be included in our mailing list. You can unsubscribe by using the relevant link in the email. Your e-mail address will not be provided to any third party."}]}]},{heading:"INFORMATION SECURITY",desc:[{text:"Information security is the most important part of any website management. We have taken several measures at MILEMATES to provide apt security to customer personal  information."}]},{heading:"Use of Cookies:",desc:[{text:"A 'cookie' is a small piece of information stored by a web server on a web browser so it can be later read back from that browser. We use cookies and tracking technology depending on the features offered. No personal information will be collected via cookies and other tracking technology; however, if you previously provided personally identifiable information, cookies may be tied to such information."}]},{heading:"LINKS TO OTHER WEBSITES",desc:[{text:"Our website may contain links to another website, once navigated to any other site, we are not responsible for the privacy policy and the content available on that site."}]},{heading:"CONTROLLING YOUR PERSONAL INFORMATION: ",desc:[{text:"You may choose to restrict the collection or use of your personal information in the following ways:",list:[{text:"Whenever you are asked to fill in a form on the website, look for the box that you can click to indicate that you do not want the information to be used by anybody for direct marketing purposes."},{text:"If you have previously agreed to us using your personal information for direct marketing purposes, you may change your mind at any time by writing to or emailing us at care@milemates.com"},{text:"You may request details of personal information which we hold about you under the Data Protection Act 1998."}]},{text:"For any issue related to any of our privacy policy or personal information related queries, please write to or email us at care@milemates.com."}]}],s=[{heading:"TRUSTED NAME IN AUTO-WORLD",desc:[{text:"We personally faced these problems related to servicing of vehicles and felt this is ‘the need’ of the hour. Issues like, hectic work hours, difficulty in locating nearby service centres, sudden breakdown in traffic are faced by many people and we are here to provide you with solutions for your basic vehicle problem."},{text:"We, at milemates.in are determined to make your vehicle maintenance easy through an online platform. We bring all service centres (authorized) under a roof, enabling customers to pick from the best service centres available in the market. The idea is to reduce the waiting time in the service centres and provide a hassle free service booking, management and maintenance of vehicles for people."}]}],c=[{heading:"MAIN FEATURES",desc:[{text:"We provide an online platform where users can register and apply for servicing at any of the available authorized vehicle service. We want to make sure, your vehicle is always in the perfect condition and available as your long drives."},{text:"We provide booking for quick servicing, interim servicing, full servicing and many more."},{text:"We provide services like, home pickup and drop off of your vehicle(based on service centre agreement), guide you to the nearest service centre when your vehicle breaks down, check, SMS and email tracking of your service order and many more.",list:[{text:"Full Servicing : includes Oil, Air filter change, washing, coating and all parts checkup."},{text:"Interim Servicing : includes washing, full checkup and greasing."},{text:"Quick Servicing : includes touch up, greasing, washing and check up."},{text:"Hasle free Pickup and Drop facility."}]}]}],l=function(){return e(function(){return o},0)},d=function(){return e(function(){return n},0)},u=function(){return e(function(){return s},0)},p=function(){return e(function(){return i},0)},m=function(){return e(function(){return a},0)},g=function(){return e(function(){return c},0)},h=function(e,o,a,n,i){var s=r.defer();return t.post("/api/Auth/Feedback?FirstName="+e+"&LastName="+o+"&Mobile="+a+"&Subject="+n+"&Message="+i).then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise};return{getHighlights:l,orderProcessingTC:d,getPrivacyPolicy:p,getTerms:m,getAboutUs:u,getMainFeatures:g,feedback:h}}]),angular.module("index").directive("orderProcessingTerms",function(){return{templateUrl:"psApp/index/orderProcessingTermsTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("index").directive("ourBrands",function(){return{templateUrl:"psApp/index/ourBrandsTemplate.html",link:function(e,t,r){previousNextBrandDetails()}}});var previousNextBrandDetails=function(){if($(".brand-carousel").length){var e=$(".brand-carousel.owl-carousel");e.owlCarousel({autoPlay:!0,items:6,itemsDesktop:[1e3,6],itemsDesktopSmall:[900,3],itemsTablet:[600,2],pagination:!0,autoplayHoverPause:!0}),$("body").delegate(".brandcaro.caro-next-brand","click",this,function(){e.trigger("owl.next")}),$("body").delegate(".brandcaro.caro-prev-brand","click",this,function(){e.trigger("owl.prev")})}};angular.module("index").directive("privacyPolicy",function(){return{templateUrl:"psApp/index/privacyPolicyTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("index").directive("realFacts",function(){return{templateUrl:"psApp/index/realfactsTemplate.html",link:function(e,t,r){function o(){$(".chart").easyPieChart({barColor:!1,trackColor:!1,scaleColor:!1,scaleLength:!1,lineCap:!1,lineWidth:!1,size:!1,animate:7e3,onStep:function(e,t,r){$(this.el).find(".percent").text(Math.round(r))}})}$("body").length&&$(window).on("scroll",function(){$(window).scrollTop();$(".list-progress").waypoint(function(){$(".chart").each(function(){o()})},{offset:"80%"})})}}}),angular.module("index").directive("subscribeUs",function(){return{templateUrl:"psApp/index/subscribeUsTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("index").directive("terms",function(){return{templateUrl:"psApp/index/termsTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("psApp").controller("loginDetailsController",["$scope","$localStorage","$location","$rootScope","$timeout","psLoginService","psDataServices","$state","$cookies","$cookieStore",function(e,t,r,o,a,n,i,s,c,l){e.isBusy=!0,e.loginError=!1,e.regError=!1,e.regSuccess=!1,e.again=!1,e.TCRedirection=function(e,t){window.open(e,t)},e.loginSubmit=function(){n.login(e.Email,e.Password).then(function(t){e.userDetails={},1==t.status||2==t.status?(e.loginError=!0,e.message=t.message,e.isLoggedIn=!1,n.setUserAuthenticated(!1)):0==t.status&&(e.resetAfterSubmit(),l.put("XSRF-TOKEN",t.access_Token),e.userDetails.firstName=t.result[1],e.userDetails.lastName=t.result[2],e.userDetails.userName=e.userDetails.firstName+" "+e.userDetails.lastName,e.userDetails.imageUrl="/assets/img/icon-user-default.png",e.userDetails.email=t.result[0],e.userDetails.phoneNo=t.result[3],e.userDetails.customerType="M",e.isLoggedIn=!0,e.loginError=!1,i.setuserDetails(e.userDetails),n.setUserAuthenticated(!0),$("#loginModal").modal("toggle"))},function(t){e.isLoggedIn=!1,e.loginError=!0,e.message=t.message,n.setUserAuthenticated(!1)})["finally"](function(){e.isBusy=!1,e.Password=null,e.loginForm.password.$dirty=!1,o.$broadcast("ps-user-profile-show",{isLoggedIn:e.isLoggedIn,userDetails:e.userDetails}),a(function(){e.logReset()},3e3)})},e.logReset=function(){e.loginError=!1},e.registerSubmit=function(){e.regPassword==e.cnfPassword?e.otp==e.regotp?(e.otp="",n.register(e.regFirstname,e.regLastname,e.regEmail,e.regMobile,e.regPassword).then(function(t){0==t.status?(e.resetAfterSubmit(),e.userDetails.firstName=t.result[2],e.userDetails.lastName=t.result[3],e.userDetails.userName=e.userDetails.firstName+" "+e.userDetails.lastName,e.userDetails.imageUrl="/assets/img/icon-user-default.png",e.userDetails.email=t.result[1],e.userDetails.phoneNo=t.result[4],e.userDetails.customerType="M",e.isLoggedIn=!0,e.loginError=!1,i.setuserDetails(e.userDetails),n.setUserAuthenticated(!0),o.$broadcast("ps-user-profile-show",{isLoggedIn:e.isLoggedIn,userDetails:e.userDetails}),$("#loginModal").modal("toggle"),e.regSuccess=!0,e.regError=!1,e.successMessage=t.message):(1==t.status||2==t.status)&&(e.regError=!0,e.regSuccess=!1,e.again=!1,e.errorMessage=t.message,n.setUserAuthenticated(!1))},function(t){e.regError=!1,e.errorMessage=t.message,n.setUserAuthenticated(!1)})["finally"](function(){e.isBusy=!1,e.passAndOTPReset(),a(function(){e.regReset()},3e3)})):(e.reqError=!0,e.reqSuccess=!1,e.regError=!1,e.regSuccess=!1,e.errorMessage="You entered incorrect OTP.",e.passAndOTPReset(),a(function(){e.regReset()},3e3)):(e.regError=!0,e.regSuccess=!1,e.reqError=!1,e.reqSuccess=!1,e.regForm.rpassword.$dirty=!1,e.regForm.rcnfpassword.$dirty=!1,e.regPassword=null,e.cnfPassword=null,e.errorMessage="Password doesn't match.",a(function(){e.regReset()},3e3))},e.passAndOTPReset=function(){e.regForm.rotp.$dirty=!1,e.regForm.rpassword.$dirty=!1,e.regForm.rcnfpassword.$dirty=!1,e.regotp=null,e.regPassword=null,e.cnfPassword=null},e.regReset=function(){e.regSuccess=!1,e.regError=!1,e.reqSuccess=!1,e.reqError=!1},e.requestOtp=function(t){n.mobileVerification(t).then(function(t){0==t.status?(e.otp=t.result,console.log(e.otp),e.again=!0,e.reqSuccess=!0,e.reqError=!1,e.successMessage=t.message):(1==t.status||2==t.status)&&(e.reqError=!0,e.reqSuccess=!1,e.errorMessage=t.message)},function(t){e.reqError=!0,e.reqSuccess=!1,e.errorMessage=t.message})["finally"](function(){e.isBusy=!1,a(function(){e.regReset()},3e3)})},e.forgotSubmit=function(){n.forgotPassword(e.fgtEmail).then(function(t){0==t.status?(e.frgSuccess=!0,e.frgError=!1,e.successMessage=t.message):(1==t.status||2==t.status)&&(e.frgError=!0,e.frgSuccess=!1,e.errorMessage=t.message)},function(t){e.frgError=!0,e.frgSuccess=!1,e.errorMessage=result.message})["finally"](function(){e.isBusy=!1,e.resetAfterSubmit(),a(function(){e.frgReset()},3e3)})},e.frgReset=function(){e.frgSuccess=!1,e.frgError=!1},e.resetAfterSubmit=function(){e.Email=null,e.Password=null,e.regFirstname=null,e.regLastname=null,e.regEmail=null,e.regMobile=null,e.regotp=null,e.regPassword=null,e.cnfPassword=null,e.fgtEmail=null,e.fgtForm.femail.$dirty=!1,e.loginForm.email.$dirty=!1,e.loginForm.password.$dirty=!1,e.regForm.rfirstname.$dirty=!1,e.regForm.rlastname.$dirty=!1,e.regForm.remail.$dirty=!1,e.regForm.rmobile.$dirty=!1,e.regForm.rotp.$dirty=!1,e.regForm.rpassword.$dirty=!1,e.regForm.rcnfpassword.$dirty=!1},e.socialSubmit=function(t){var r=/facebook/gi.test(t)?340:520;r=/paypal/gi.test(t)?550:r;var o=/paypal/gi.test(t)?400:680;t&&n.socialLogin(t).then(function(t){t&&t.url&&($("#loginModal").modal("toggle"),e.openwindow(t.url,"",o,r))},function(e){})["finally"](function(){e.isBusy=!1})},e.openwindow=function(e,t,r,o){var a=(window.screen.availHeight-30-o)/2,n=(window.screen.availWidth-10-r)/2;window.open(e,t,"height="+o+",innerHeight="+o+",width="+r+",innerWidth="+r+",top="+a+",left="+n+",toolbar=no,menubar=no,scrollbars=yes,resizeable=no,location=no,status=no")};var d=r.search();null!=d.code&&void 0!=d.code&&n.socialCallback(r.search()).then(function(t){e.userDetails={},e.userDetails.firstName=t.result.firstName,e.userDetails.lastName=t.result.lastName,e.userDetails.imageUrl=t.result.link,e.userDetails.email=t.result.email,e.userDetails.customerType=t.result.customerType,e.userDetails.carDetails=t.result.carDetails,e.userDetails.phoneNo=t.result.mobile,e.userDetails.userName=t.result.name,o.$broadcast("ps-user-profile-show",{isLoggedIn:e.isLoggedIn,userDetails:e.userDetails}),i.setuserDetails(e.userDetails),n.setUserAuthenticated(!0),opener.location.reload(),window.close()},function(e){n.setUserAuthenticated(!1)})["finally"](function(){e.isBusy=!1})}]),angular.module("psApp").directive("loginDetails",function(){return{templateUrl:"psApp/loginDetails/loginDetailsTemplate.html",controller:"loginDetailsController",link:function(e,t,r,o){}}}),angular.module("psApp").directive("modalDialog",function(){return{scope:{okay:"&",informational:"=",message:"="},replace:!0,link:function(e,t,r){e.okayClick=function(){e.okay()}},templateUrl:"psApp/modalOverlay/modalOverlay.html"}}),angular.module("index").directive("pricing",function(){return{templateUrl:"psApp/pricing/pricingTemplate.html",controller:"indexController",link:function(e,t,r){}}}),angular.module("psApp").factory("psOrderDetailsService",["$http","$q","$localStorage","psDataServices",function(e,t,r,o){var a,n,i=function(t,r){var o={PaymentId:t,PaymentRequestId:r};return e({url:"/api/services/validateOrder",method:"POST",data:o})},s=function(i,s,c){a=o.getSelectedService(),""!=i&&(a=r.userSelectionData);var l=t.defer();a.PaymentId=i,a.PaymentRequestId=s,a.PaymentResponse=c;var d=a;return e({url:"/api/services/order",method:"POST",data:d}).then(function(e){r.userSelectionData="",n=e.data.result,l.resolve(e.data)},function(e){l.reject(e)}),l.promise},c=function(){a=o.getSelectedService();var r=t.defer();return e.post("/api/Auth/ProcessPayment?name="+a.userDetails.userName+"&purpose=MileMates Service Payment&amount="+a.selectedCentre.totalMMPrice+"&email="+a.userDetails.email+"&phone="+a.userDetails.phoneNo+"&send_email="+!1+"&send_sms="+!1).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise},l=function(){return n},d=function(o){var a=t.defer();return e({url:"/api/OrderDetails/order?email="+r.userDetails.email+"&status="+o,method:"GET",cache:!1}).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},u=function(r,o){var a=t.defer();return e({url:"/api/OrderDetails/cancelorder?invoiceNo="+r+"&email="+o,method:"GET",cache:!1}).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},p=function(r,o){var a={dropOffDate:"",pickUpDate:""};a.dropOffDate=o.dropOffDate;var n=t.defer();return e({url:"/api/OrderDetails/editOrder?InvoiceNo="+r+"&dropOffDate="+o.dropOffDate.day+"&dropOffTime="+o.dropOffDate.time+"&pickUpDate="+o.pickUpDate.day+"&pickUpTime="+o.pickUpDate.time,method:"POST"}).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise};return{payment:c,validateOrder:i,submitOrder:s,getsubmittedOrder:l,getAllPendingOrder:d,cancelOrder:u,editDateAndTime:p}}]),angular.module("psApp").factory("psLoginService",["$http","$q","$localStorage",function(e,t,r){var o=r.isAuthenticated?r.isAuthenticated:!1,a=function(r,o){var a=t.defer();return e.post("/api/Auth/Login?Email="+r+"&Password="+o).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},n=function(r,o,a,n,i){var s=t.defer();return e.post("/api/Auth/Register?FirstName="+r+"&LastName="+o+"&Email="+a+"&Mobile="+n+"&Password="+i).then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise},i=function(r,o){var a=t.defer();return e.post("/api/Auth/Subscribe?Name="+r+"&Email="+o).then(function(e){a.resolve(e.data)},function(e){a.reject(e)}),a.promise},s=function(r){var o=t.defer();return e.post("/api/Auth/MobileOTP?MobileNumber="+r).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},c=function(r){var o=t.defer();return e.post("/api/Auth/ForgotPassword?Email="+r).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},l=function(r){var o=t.defer();return e.post("/api/Auth/SocialLogin?Id="+r).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},d=function(r){var o=t.defer();return e.post("/api/Auth/Success?Code="+r.code).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},u=function(r){var o=t.defer();return e.post("/api/Auth/UpdateProfile?firstName="+r.firstName+"&lastName="+r.lastName+"&mobile="+r.mobile+"&email="+r.email).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},p=function(r){var o=t.defer();return e.post("/api/Auth/ChangePassword?email="+r.email+"&oldPassword="+r.oldPassword+"&newPassword="+r.newPassword).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise},m=function(e){o=e,r.isAuthenticated=e},g=function(){return o};return{login:a,register:n,forgotPassword:c,socialLogin:l,socialCallback:d,mobileVerification:s,subscribe:i,updatePassword:p,updateProfile:u,setUserAuthenticated:m,isAuthenticated:g}}]),angular.module("psApp").factory("psDataServices",["$http","$q","$localStorage",function(e,t,r){var o,a,n,i={},s={selectedCar:{},selectedServices:{},selectedAppointment:{},userDetails:{},userAddress:{},selectedCentre:{}};angular.extend(s.userDetails,r.userDetails);var c=function(){return s},l=function(e,t){o=e,a=t,s.selectedCar=e,s.selectedServices=t},d=function(e){n=e},u=function(e){s.selectedAppointment.pickUpDate=e.pickUpDate,s.selectedAppointment.dropOffDate=e.dropOffDate},p=function(e){s.PaymentMode=e},m=function(){return s.userDetails},g=function(e){s.userDetails=e,r.userDetails=e},h=function(){return s.userAddress},f=function(e){s.userAddress=e,angular.extend(s.userDetails,e)},v=function(e){i=e,e&&(s.selectedCentre=e.selectedCentre)},y=function(){return i},b=function(){return s.selectedCentre},w=function(){return s.pickUpDetails},D=function(e){return s.selectedAppointment.pickUpDetails=e},A=function(){return e.get("/api/car")},S=function(t){return e.get("/api/car/"+t)},C=function(t,r){return e.get("/api/car/"+t+"/"+r)},T=function(t){return e.get("/api/ServiceCentre/")},M=function(t){return e.get("/api/ServiceCentre/"+t)},k=function(t,r){var a=n,i={City:t,Area:r,Name:a,Model:o.model,Type:o.varient,Latitude:s.userAddress.lat,Longitude:s.userAddress.lng};return e({url:"/api/ServiceCentre/centerlist",method:"POST",data:i})},E=function(t,r){return e.get("/api/services/all")},O=function(){var t={carDetails:s.selectedCar,CustType:r.userDetails.customerType,Email:r.userDetails.email};return e({url:"/api/car/save",method:"POST",data:t})},P=function(){return e({url:"/psApp/data/serviceCentre.json",method:"get"})},I=function(t){var r=[];r.push(t);var o={Area:t.Area,Centres:r,nearAreas:t.nearAreas};return e({url:"/api/ServiceCentre/save",method:"POST",data:o})},L=function(){s={selectedCar:{},selectedServices:{},selectedAppointment:{},userDetails:{},userAddress:{},selectedCentre:{}},angular.extend(s.userDetails,r.userDetails)};return{getAllCarColletion:A,getCarType:S,getCarVarient:C,getServiceCentreCity:T,getServiceCentreArea:M,getServiceCentreList:k,getAllService:E,setSelectedCarAndService:l,getSelectedService:c,setSelectedServiceName:d,setCentreDetails:v,getCentreDetails:y,getSelectedCentre:b,setSelectedAppointment:u,setPaymentMode:p,getuserDetails:m,setuserDetails:g,getuserAddress:h,setuserAddress:f,setUserPreference:O,geMockData:P,saveCentreDetails:I,setPickUpDetails:D,getPickUpDetails:w,resetAll:L}}]),angular.module("psApp").directive("switcherContent",function(){return{templateUrl:"psApp/switcherContent/switcherContentTemplate.html"}}),angular.module("psApp").directive("psUserProfile",["$rootScope",function(e){return{templateUrl:"psApp/userProfile/userProfileTemplate.html",replace:!0,link:function(e,t,r,o){}}}]),angular.module("psApp").directive("bookAppointment",function(){return{templateUrl:"psApp/carService/bookAppointment/bookAppointment.html",link:function(){$("html, body").animate({scrollTop:50},"slow")},scope:!1,controller:["$scope","psDataServices",function(e,t){function r(t,r){var o=new Date(e.selectedDate.pickUpDate.day);r&&o.setDate(parseInt(e.selectedDate.pickUpDate.day.split(" ")[2])+1),e.disablePrevBtn=i.toDateString()===t[0].day?!0:!r||e.selectedDate.pickUpDate.day!==t[0].day&&o.toDateString()!==t[0].day?!1:!0,e.disableNextBtn=l.toDateString()===t[t.length-1].day?!0:!1}function o(e){var t=e,r="AM",o=t;return o>=12&&(o=t-12,r="PM"),0===o&&(o=12),o+" "+r}function a(e,t){return t.toDateString()===i.toDateString()?e>s?!0:!1:!0}function n(){var r=e.both?"both":e.onlyPickUP?"onlyPickUP":"onlyDropOff",o={isPickUp:e.pickUp,Type:r};t.setPickUpDetails(o)}e.dateToDisplay=[],e.timeToDisplay=[8,9,10,11,12,13,14,15,16,17,18,19],e.hideCalendar=!1,e.showPickUpCalendar=!0,e.centreWorkingHours=[],e.availablePickUpTime=[],e.userSelectedService={};var i=new Date,s=i.getHours(),c=i.getDate(),l=new Date;l.setDate(c+14),e.setFiveDay=function(t,r){for(var n,s=t.getDate(),c=[],d=0;8>d;d++){var u=[],p=new Date(t);p.setDate(s),n=p;var m=n.toDateString();if(e.selectedDate.pickUpDate.day===m&&r){var g=r.split(" ");g="AM"===g[1]?g[0]:12!==g[0]?12+parseInt(g[0]):g[0];var h=e.timeToDisplay.indexOf(parseInt(g)+6);h>-1?e.timeToDisplay.splice(0,h):e.timeToDisplay=[]}else e.timeToDisplay=[8,9,10,11,12,13,14,15,16,17,18,19];if($.each(e.timeToDisplay,function(e,t){if(n.toDateString()===i.toDateString()&&a(t,n)){var r={time:o(t)};u.push(r)}else{var r={time:o(t)};u.push(r)}}),u.length>0&&c.push({day:m,WorkingHours:u}),s++,5===c.length||l.toDateString()===m)break}return c},e.selectedDate={pickUpDate:{},dropOffDate:{}},e.pickAndDrop=function(t){"y"===t?(e.pickUp=!e.pickUp,e.both=!0,e.noPickUp=!e.pickUp,e.onlyDropOff=!1,e.onlyPickUP=!1):0===t?(e.noPickUp=!e.noPickUp,e.pickUp=!e.noPickUp,e.both=e.pickUp,e.onlyDropOff=!1,e.onlyPickUP=!1):1===t?(e.both=!0,e.onlyPickUP=!1,e.onlyDropOff=!1):2===t?(e.onlyPickUP=!e.onlyPickUP,e.both=!e.onlyPickUP,e.onlyDropOff=!1):(e.onlyDropOff=!e.onlyDropOff,e.both=!e.onlyDropOff,e.onlyPickUP=!1),n()},e.selectpickUpTime=function(o){e.selectedDate.dropOffDate={},e.selectedDate.pickUpDate.day=o.day,e.selectedDate.pickUpDate.time=o.time;var a=new Date(o.day);e.availablePickUpTime=e.setFiveDay(a,o.time),r(e.availablePickUpTime,!0),e.showPickUpCalendar=!1,e.showDropCalendar=!0,t.setSelectedAppointment(e.selectedDate,e.pickUp),e.userSelectedService=t.getSelectedService(),n(),e.mapUrl="http://maps.googleapis.com/maps/api/staticmap?&zoom=15&scale=false&size=500x300&maptype=roadmap&format=png&visual_refresh=true&markers="+e.userSelectedService.userAddress.lat+","+e.userSelectedService.userAddress.lng},e.selectDropTime=function(r){e.selectedDate.dropOffDate.day=r.day,e.selectedDate.dropOffDate.time=r.time,e.showDropCalendar=!1,e.hideCalendar=!0,t.setSelectedAppointment(e.selectedDate)},e.nextDates=function(t){var o=e.showPickUpCalendar?e.centreWorkingHours:e.availablePickUpTime,a="prev"===t?o[0].day:o[e.centreWorkingHours.length-1].day;a=new Date(a);var n=a.getDate();a.setDate("prev"===t?n-5:n+1),e.showPickUpCalendar?(e.centreWorkingHours=e.setFiveDay(a),r(e.centreWorkingHours)):(e.availablePickUpTime=e.setFiveDay(a,e.selectedDate.pickUpDate.time),r(e.availablePickUpTime,!0))},e.centreWorkingHours=e.setFiveDay(i),r(e.centreWorkingHours),e.editPickUpDate=function(){e.showPickUpCalendar=!e.showPickUpCalendar,e.showPickUpCalendar?(e.hideCalendar=!1,e.showDropCalendar=!1,r(e.centreWorkingHours)):e.hideCalendar=!0},e.editDropDate=function(){e.showDropCalendar=!e.showDropCalendar,e.showDropCalendar?(e.hideCalendar=!1,e.showPickUpCalendar=!1,r(e.availablePickUpTime,!0)):e.hideCalendar=!0},e.centre=t.getSelectedCentre()}]}}),angular.module("psApp").directive("calendarDirective",function(){return{templateUrl:"psApp/carService/bookAppointment/calendar.html",replace:!0,scope:{data:"=",update:"&"},controller:["$scope",function(e){e.updateTime=function(t,r){e.selectedDate={},e.selectedDate.time=t,e.selectedDate.day=r,e.update({selectedDateTime:e.selectedDate})}}]}}),angular.module("psApp").directive("orderSummary",function(){return{templateUrl:"psApp/carService/orderSummary/orderSummary.html",link:function(e,t,r){},controller:["$scope","$location","$sessionStorage","psOrderDetailsService",function(e,t,r,o){
e.invoiceNo=r.orderId,e.go=function(e){t.path(e)},e.invoiceNo&&""!==e.invoiceNo||t.path("/")}]}}),angular.module("psApp").directive("reviewOrder",function(){return{templateUrl:"psApp/carService/reviewOrder/reviewOrder.html",replace:!0,scope:{orders:"="}}});